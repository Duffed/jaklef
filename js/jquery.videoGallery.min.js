!function(e){function i(t,i){function s(){for(S=0;S<w.length;S++)"viewport"==w[S].name&&(w[S].content="width=device-width, minimum-scale=0.25, maximum-scale=1.6")}function a(e){if(b._componentInited&&!b._playlistTransitionOn&&!b.volumebarDown){if(!b.seekBarDown){var t;if(C){var i=e.originalEvent.touches;if(!(i&&i.length>0))return!1;t=i[0]}else t=e,e.preventDefault();b.seekBarDown=!0,b._doc.bind(k,function(e){l(e)}),b._doc.bind(T,function(e){o(e)})}return!1}}function l(e){var t;if(C){var i;if(e.originalEvent.touches&&e.originalEvent.touches.length)i=e.originalEvent.touches;else{if(!e.originalEvent.changedTouches||!e.originalEvent.changedTouches.length)return!1;i=e.originalEvent.changedTouches}if(i.length>1)return!1;t=i[0],e.preventDefault()}else t=e,e.preventDefault();return r(t.pageX),!1}function o(e){if(b.seekBarDown){b.seekBarDown=!1,b._doc.unbind(k).unbind(T);var t;if(C){var i;if(e.originalEvent.touches&&e.originalEvent.touches.length)i=e.originalEvent.touches;else{if(!e.originalEvent.changedTouches||!e.originalEvent.changedTouches.length)return!1;i=e.originalEvent.changedTouches}if(i.length>1)return!1;t=i[0],e.preventDefault()}else t=e,e.preventDefault();r(t.pageX)}return!1}function r(e){var t=e-b.progress_bg.offset().left;0>t?t=0:t>b.seekBarSize&&(t=b.seekBarSize),b.progress_level.width(t);var i=Math.max(0,Math.min(1,t/b.seekBarSize));if(b.html5Support){var s=i*b.videoUp2Js.duration,a=s.toFixed(1);try{b.videoUp2Js.currentTime=a}catch(l){}}}function n(){b.videoInited&&(b.player_progress_tooltip.css("display","block"),b.player_progress.bind("mousemove",d).bind("mouseout",h),b._doc.bind("mouseout",h))}function h(){b.videoInited&&(b.player_progress_tooltip.css("display","none"),b.player_progress.unbind("mousemove",d).unbind("mouseout",h),b._doc.unbind("mouseout",h))}function d(e){var t=e.pageX-b.player_progress.offset().left;0>t?t=0:t>b.seekBarSize&&(t=b.seekBarSize);var i=t+parseInt(b.player_progress.css("left"),10)-b.player_progress_tooltip.width()/2;b.player_progress_tooltip.css("left",i+"px");var s,a=Math.max(0,Math.min(1,t/b.seekBarSize));if(b.html5Support){if(s=a*b.videoUp2Js.duration,isNaN(s))return;b.player_progress_tooltip_value.html(b.formatCurrentTime(s)+b.formatDuration(b.videoUp2Js.duration))}var l=b.player_progress_tooltip.width()/2-b.player_progress_tooltip_value.width()/2;b.player_progress_tooltip_value.css("left",l+"px")}function p(e){if(b._componentInited&&!b._playlistTransitionOn&&!b.seekBarDown){if(!b.volumebarDown){var t;if(C){var i=e.originalEvent.touches;if(!(i&&i.length>0))return!1;t=i[0]}else t=e,e.preventDefault();b.volumebarDown=!0,b._doc.bind(k,function(e){u(e)}),b._doc.bind(T,function(e){c(e)})}return!1}}function u(e){var t;if(C){var i;if(e.originalEvent.touches&&e.originalEvent.touches.length)i=e.originalEvent.touches;else{if(!e.originalEvent.changedTouches||!e.originalEvent.changedTouches.length)return!1;i=e.originalEvent.changedTouches}if(i.length>1)return!1;t=i[0],e.preventDefault()}else t=e,e.preventDefault();return y(t.pageX),!1}function c(e){if(b.volumebarDown){b.volumebarDown=!1,b._doc.unbind(k).unbind(T);var t;if(C){var i;if(e.originalEvent.touches&&e.originalEvent.touches.length)i=e.originalEvent.touches;else{if(!e.originalEvent.changedTouches||!e.originalEvent.changedTouches.length)return!1;i=e.originalEvent.changedTouches}if(i.length>1)return!1;t=i[0],e.preventDefault()}else t=e,e.preventDefault();y(t.pageX),0==b.defaultVolume?(b.player_volume.find("img").attr("src",b.ic_mute),b.videoUp2Js.muted=!0):b.defaultVolume>0&&(b.player_volume.find("img").attr("src",b.ic_volume),b.videoUp2Js.muted=!1)}return!1}function y(e){b.defaultVolume=Math.max(0,Math.min(1,(e-b.volume_bg.offset().left)/b.volumeSize)),b._setVolume()}function m(){b.videoInited&&(b.player_volume_tooltip.css("display","block"),b.volume_seekbar.bind("mousemove",v).bind("mouseout",_),b._doc.bind("mouseout",_))}function _(){b.videoInited&&(b.player_volume_tooltip.css("display","none"),b.volume_seekbar.unbind("mousemove",v).unbind("mouseout",_),b._doc.unbind("mouseout",_))}function v(e){var t=e.pageX-b.volume_bg.offset().left;0>t?t=0:t>b.volumeSize&&(t=b.volumeSize);var i=parseInt(b.playerControls.css("width"),10)+t-parseInt(b.volume_seekbar.css("right"),10)-parseInt(b.volume_seekbar.css("width"),10)+parseInt(b.volume_bg.css("left"),10)-b.player_volume_tooltip.width()/2;b.player_volume_tooltip.css("left",i+"px");var s=Math.max(0,Math.min(1,t/b.volumeSize)),a=parseInt(100*s,10);b.player_volume_tooltip_value.html(a+" %");var l=b.player_volume_tooltip.width()/2-b.player_volume_tooltip_value.width()/2;b.player_volume_tooltip_value.css("left",l+"px")}function f(){b._playlistTransitionOn||(b.transitionFinishIntervalID&&clearInterval(b.transitionFinishIntervalID),b.addressTimeoutID&&clearTimeout(b.addressTimeoutID),b.onChange(b._externalChangeEvent))}function g(){b.addressTimeoutID&&clearTimeout(b.addressTimeoutID),b.onChange(b._externalChangeEvent)}var b=this;this.baseURL=window.location.href,this.settings=e.extend({},e.fn.videoGallery.defaults,i),this.isMobile=isMobile,this.useRollovers=this.isMobile?!1:!0,this.isIE=isIE,this.ieBelow9=ieBelow9,this.isSafari=isSafari,this.ic_volume="data/icons/volume.png",this.ic_volume_on="data/icons/volume_on.png",this.ic_mute="data/icons/mute.png",this.ic_mute_on="data/icons/mute_on.png",this.ic_pause="data/icons/pause.png",this.ic_pause_on="data/icons/pause_on.png",this.ic_play="data/icons/play.png",this.ic_play_on="data/icons/play_on.png",this.ic_fullscreen_enter="data/icons/fullscreen_enter.png",this.ic_fullscreen_enter_on="data/icons/fullscreen_enter_on.png",this.ic_fullscreen_exit="data/icons/fullscreen_exit.png",this.ic_fullscreen_exit_on="data/icons/fullscreen_exit_on.png",this.ic_player_prev="data/icons/v_prev.png",this.ic_player_prev_on="data/icons/v_prev_on.png",this.ic_player_next="data/icons/v_next.png",this.ic_player_next_on="data/icons/v_next_on.png",this.ic_w_play="data/icons/w_play.png",this.ic_w_pause="data/icons/w_pause.png",this._componentInited=!1,this._body=e("body"),this.bodyOverflowOrig=this._body.css("overflow"),this._window=e(window),this._doc=e(document),this._windowResizeInterval=100,this._windowResizeIntervalID,this._mediaPath,this._mediaType,this.preserveInsert=!1,this.preserveInsert_item,this._vimeoPlayer,this._youtubePlayer,this._vimeoInited=!1,this._youtubeInited=!1,this._youtubeChromeless=!1,this.scrollPane,this.scrollPaneApi,this.currentThumb,this.currentInfo,this._descriptionDataArr=[],this._processPlaylistLength,this._currentInsert,this.lastPlaylist,this._processPlaylistCounter=-1,this.liProcessArr=[],this._playlistArr=[],this.vimeoTypeArr=["vimeo_single","vimeo_user","vimeo_group","vimeo_channel","vimeo_album"],this.youtubeTypeArr=["youtube_single","youtube_playlist","youtube_user_favourites","youtube_user_uploads","youtube_video_query","youtube_playlist_query","youtube_standard_feed","youtube_user_videos","youtube_channel_query","youtube_user_playlists"],this._videoProcessData=[],this._playlistQueryCounter=0,this._playlistQueryUrl=[],this._playlistQueryLength,this.ytType,this.currentObj,this._playlistLength,this._playlistTransitionOn=!1,this.playlistPosition=this.settings.playlistPosition,this.autoPlay=this.settings.autoPlay,this.yt_autoPlay=this.settings.autoPlay,this.vim_autoPlay=this.settings.autoPlay,this.initialAutoplay=this.autoPlay,this.useYoutubeHighestQuality=this.settings.useYoutubeHighestQuality,this._autoAdvanceToNextVideo=this.settings.autoAdvanceToNextVideo,this.fullSize=this.settings.fullSize,this.outputPlaylistData=this.settings.outputPlaylistData,this.margin_size=0,this.autoMakePlaylistInfo=this.settings.autoMakePlaylistInfo,this.autoMakePlaylistThumb=this.settings.autoMakePlaylistThumb,this.randomPlay=this.settings.randomPlay,this.loopingOn=this.settings.loopingOn,this._activePlaylist=this.settings.activePlaylist,this.defaultVolume=this.settings.defaultVolume,this.defaultVolume<0?this.defaultVolume=0:this.defaultVolume>1&&(this.defaultVolume=1),this._thumbOrientation=this.settings.thumbOrientation,this.componentWrapper=e(t),this.mediaPreloader=this.componentWrapper.find(".mediaPreloader").css("display","none"),this.componentInnerWrapper=this.componentWrapper.find(".componentInnerWrapper"),this.componentInnerWrapperOrigW=this.componentInnerWrapper.width(),this.componentInnerWrapperOrigH=this.componentInnerWrapper.height(),this.componentInnerWrapperCurrW=this.componentInnerWrapperOrigW,this.componentInnerWrapperCurrH=this.componentInnerWrapperOrigH,this.playlistHolder=this.componentWrapper.find(".playlistHolder"),this.playlistHolderOrigW=this.playlistHolder.width(),this.playlistHolderOrigH=this.playlistHolder.height(),this.componentPlaylist=this.playlistHolder.find(".componentPlaylist"),this.playlist_inner=this.playlistHolder.find(".playlist_inner"),this.playerHolder=this.componentWrapper.find(".playerHolder"),this.playerHolderOrigW=this.playerHolder.width(),this.playerHolderOrigH=this.playerHolder.height(),this.playerHolderCurrW=this.playerHolderOrigW,this.playerHolderCurrH=this.playerHolderOrigH,this.playerRatio=this.playerHolder.width()/this.playerHolder.height(),this.mediaHolder=this.playerHolder.find(".mediaHolder").bind("click",function(){return b.togglePlayBack(),!1}),this.youtubeHolder=this.playerHolder.find(".youtubeHolder"),this.vimeoHolder=this.playerHolder.find(".vimeoHolder"),this.componentWrapper.find(".w_player_adv").length&&(this.w_player_adv=this.componentWrapper.find(".w_player_adv"),this.w_prev=this.w_player_adv.find(".w_prev").css({cursor:"pointer"}).bind("click",function(){return!b._componentInited||b._playlistTransitionOn?!1:(b.previousMedia(),!1)}),b.w_next=b.w_player_adv.find(".w_next").css({cursor:"pointer"}).bind("click",function(){return b.nextMedia(),!1}),this.componentWrapper.find(".w_player_adv").css("display","block")),this.componentWrapper.find(".player_adv").length&&(this.player_adv=this.componentWrapper.find(".player_adv"),this.player_prev=this.player_adv.find(".player_prev").css({cursor:"pointer"}).bind("click",function(){return!b._componentInited||b._playlistTransitionOn?!1:(b.previousMedia(),!1)}),this.useRollovers&&this.player_prev.bind("mouseover",function(){return!b._componentInited||b._playlistTransitionOn?!1:(e(this).find("img").attr("src",b.ic_player_prev_on),!1)}).bind("mouseout",function(){return!b._componentInited||b._playlistTransitionOn?!1:(e(this).find("img").attr("src",b.ic_player_prev),!1)}),this.player_next=b.player_adv.find(".player_next").css({cursor:"pointer"}).bind("click",function(){return b.nextMedia(),!1}),this.useRollovers&&this.player_next.bind("mouseover",function(){return!b._componentInited||b._playlistTransitionOn?!1:(e(this).find("img").attr("src",b.ic_player_next_on),!1)}).bind("mouseout",function(){return!b._componentInited||b._playlistTransitionOn?!1:(e(this).find("img").attr("src",b.ic_player_next),!1)})),this._componentWidth=this._getComponentSize("w"),this._componentHeight=this._getComponentSize("h"),this.widthSizeLimit="horizontal"==this._thumbOrientation?500:600,this.heightSizeLimit="horizontal"==this._thumbOrientation?350:250,this.mobileLayout=!1,this.fullSize?"right"==this.playlistPosition?this._componentHeight<=this.heightSizeLimit&&(this.mobileLayout=!0):"bottom"==this.playlistPosition&&this._componentWidth<=this.widthSizeLimit&&(this.mobileLayout=!0):(this._componentWidth<=this.widthSizeLimit||this._componentHeight<=this.heightSizeLimit)&&(this.mobileLayout=!0),this.activeItem,this.playerControls=this.componentWrapper.find(".playerControls"),this.playerControlsOrigL=parseInt(this.playerControls.css("left"),10),this.player_mediaTime=this.componentWrapper.find(".player_mediaTime"),this.isIOS=!1;var P=navigator.userAgent;if(P.indexOf("iPhone")>-1||P.indexOf("iPod")>-1||P.indexOf("iPad")>-1){this.isIOS=!0;var S,w=document.getElementsByTagName("meta");if(navigator.userAgent.match(/iPhone|iPad/i)){for(S=0;S<w.length;S++)"viewport"==w[S].name&&(w[S].content="width=device-width, minimum-scale=1.0, maximum-scale=1.0");document.addEventListener("gesturestart",s,!1)}this.aspectRatio=1}this.isiPhoneIpod=P.indexOf("iPhone")>-1||P.indexOf("iPod")>-1,this.isiPhoneIpod&&this.playerControls.remove(),this.isAndroid=P.indexOf("Android")>-1,this.isMobile&&(this.autoPlay=!1,this.yt_autoPlay=!1,this.vim_autoPlay=!1),this.vorbisSupport=this.canPlayVorbis(),this.mp4Support=this.canPlayMP4(),this.webMsupport=this.canPlayWebM(),this.html5Support=!!document.createElement("video").canPlayType,this.fullscreenCount=0,this.fullscreenPossible=!1,this.checkFullScreenSupport()&&(this.fullscreenPossible=!0),this.fullscreenPossible&&this._doc.on("fullscreenchange mozfullscreenchange webkitfullscreenchange",function(){b.setFullscreenIcon(),"fullscreen"==b.componentSize&&b.fullscreenCount>0&&(b.componentSize="normal",b.resizeComponent()),b.fullscreenCount=1}),this.html5video_inited=!1,this.previewPoster,this.bigPlay,this.html5Support&&(this.bigPlay=this.componentWrapper.find(".bigPlay").css("cursor","pointer").bind("click",function(){return b.togglePlayBack(),!1})),this.autoHideControls=this.isMobile?!1:!0,this.autoHideControls&&(this.componentHit=!1,this.componentInnerWrapper.mouseenter(function(){componentHit=!0,b.showControls()}).mouseleave(function(){componentHit=!1,b.hideControls()})),this.aspectRatio=1,this.videoInited=!1,this._mediaPath,this.mediaPlaying=!1,this.flashReadyInterval=100,this.flashReadyIntervalID,this.flashPreview=e(this.settings.flashHolder),this.flashCheckDone=!1,this.dataInterval=100,this.dataIntervalID,this.mediaWidth,this.mediaHeight,this.componentSize="normal",this.video,this.videoUp2Js,this.mediaPreview=this.componentWrapper.find(".mediaPreview").bind("click",function(){return b.togglePlayBack(),!1});var C,I="",k="",T="";if("ontouchstart"in window)var C=!0,I="touchstart.ap",k="touchmove.ap",T="touchend.ap";else var C=!1,I="mousedown.ap",k="mousemove.ap",T="mouseup.ap";this.seekPercent,this.seekBarDown=!1,this.player_progress=this.componentWrapper.find(".player_progress"),this.progress_bg=this.componentWrapper.find(".progress_bg"),this.load_level=this.componentWrapper.find(".load_level"),this.progress_level=this.componentWrapper.find(".progress_level"),this.controlsMediaWidthDiff=20,this.controlsSeekbarDiff=this._getControlsSeekbarDiff(),this.seekBarSize=this.playerControls.width()-this.controlsSeekbarDiff,this.player_progress.css("cursor","pointer").bind(I,function(e){return a(e),!1}),this.player_progress_tooltip=this.componentWrapper.find(".player_progress_tooltip").css("left",parseInt(this.player_progress.css("left"),10)+"px"),this.player_progress_tooltip_value=this.componentWrapper.find(".player_progress_tooltip_value"),this.isMobile||this.player_progress.bind("mouseover",n),this.player_volume=this.componentWrapper.find(".player_volume"),this._lastVolume=this.defaultVolume,this.volumebarDown=!1,this.volume_seekbar=this.componentWrapper.find(".volume_seekbar"),this.volume_bg=this.componentWrapper.find(".volume_bg"),this.volume_level=this.componentWrapper.find(".volume_level"),this.volumeSize=this.volume_bg.width(),this.volume_level.css("width",this.defaultVolume*this.volumeSize+"px"),0==this.defaultVolume?(this._lastVolume=.5,this.player_volume.find("img").attr("src",this.ic_mute)):this.defaultVolume>0&&this.player_volume.find("img").attr("src",this.ic_volume),this.noVolume=!1,this.noTime=!1,this.isIOS&&(this.player_volume.css("display","none"),this.volume_seekbar.css("display","none"),this.player_mediaTime.css("right","45px"),this.player_progress.width(this.player_progress.width()+95),this.progress_bg.width(this.player_progress.width()-20),this.controlsSeekbarDiff=180,this.noVolume=!0),this.volume_seekbar.css("cursor","pointer").bind(I,function(e){return p(e),!1}),this.player_volume_tooltip=this.componentWrapper.find(".player_volume_tooltip").css("left",parseInt(this.volume_seekbar.css("left"),10)+"px"),this.player_volume_tooltip_value=this.componentWrapper.find(".player_volume_tooltip_value"),this.isMobile||this.volume_seekbar.bind("mouseover",m),this.html5Support||(this.mediaPreview.remove(),this.mp4Support=!0),this.player_playControl=this.componentWrapper.find(".player_playControl").css("cursor","pointer").bind("click",function(){return b.togglePlayBack(),!1}),b.useRollovers&&this.player_playControl.bind("mouseover",function(){return b.mediaPlaying?b.componentWrapper.find(".player_playControl").find("img").attr("src",b.ic_pause_on):b.componentWrapper.find(".player_playControl").find("img").attr("src",b.ic_play_on),!1}).bind("mouseout",function(){return b.mediaPlaying?b.componentWrapper.find(".player_playControl").find("img").attr("src",b.ic_pause):b.componentWrapper.find(".player_playControl").find("img").attr("src",b.ic_play),!1}),this.player_volume.css("cursor","pointer").bind("click",function(){return 0==b.defaultVolume?(b.defaultVolume=b._lastVolume,b.html5Support&&(b.videoUp2Js.muted=!1),b._setVolume(),b.player_volume.find("img").attr("src",b.ic_volume)):(b._lastVolume=b.defaultVolume,b.html5Support&&(b.videoUp2Js.muted=!0),b.defaultVolume=0,b._setVolume(),b.player_volume.find("img").attr("src",b.ic_mute)),!1}),b.useRollovers&&this.player_volume.bind("mouseover",function(){return 0==b.defaultVolume?b.player_volume.find("img").attr("src",b.ic_mute_on):b.player_volume.find("img").attr("src",b.ic_volume_on),!1}).bind("mouseout",function(){return 0==b.defaultVolume?b.player_volume.find("img").attr("src",b.ic_mute):b.player_volume.find("img").attr("src",b.ic_volume),!1}),this.noFS=!1,this.player_fullscreen=this.componentWrapper.find(".player_fullscreen"),this.html5Support&&!this.fullscreenPossible&&this.fullSize&&(this.noFS=!0,this.player_fullscreen.css("display","none"),this.no_fs_move=25,this.player_mediaTime.css("right",parseInt(this.player_mediaTime.css("right"),10)-this.no_fs_move+"px"),this.player_volume.css("right",parseInt(this.player_volume.css("right"),10)-this.no_fs_move+"px"),this.volume_seekbar.css("right",parseInt(this.volume_seekbar.css("right"),10)-this.no_fs_move+"px")),this.player_fullscreen.css("cursor","pointer").bind("click",function(){return b.toggleFullscreen(!0),!1}),b.useRollovers&&this.player_fullscreen.bind("mouseover",function(){return"normal"==b.componentSize?b.player_fullscreen.find("img").attr("src",b.ic_fullscreen_enter_on):b.player_fullscreen.find("img").attr("src",b.ic_fullscreen_exit_on),!1}).bind("mouseout",function(){return"normal"==b.componentSize?b.player_fullscreen.find("img").attr("src",b.ic_fullscreen_enter):b.player_fullscreen.find("img").attr("src",b.ic_fullscreen_exit),!1}),"horizontal"==this._thumbOrientation&&this.playlistHolder.bind("mousewheel",function(e,t){if(b._componentInited&&!b._playlistTransitionOn){var i=t>0?-1:1;return b.scrollPaneApi&&b.scrollPaneApi.scrollByX(100*i),!1}}),this._window.bind("resize",function(){return b._windowResizeIntervalID&&clearInterval(b._windowResizeIntervalID),b._windowResizeIntervalID=setTimeout(function(){b._doneResizing()},b._windowResizeInterval),!1});var M={randomPlay:this.randomPlay,loopingOn:this.loopingOn};this._playlistManager=e.playlistManager(M),e(this._playlistManager).bind("ap_PlaylistManager.COUNTER_READY",function(){b.useDeeplink?b._addressSet?(b._addressSet=!1,b._disableActiveItem(),b._findMedia()):(e.address.value(b.findAddress2(b._playlistManager.getCounter())),e.address.history()||e.address.history(!0)):(b._disableActiveItem(),b._findMedia())}),e(this._playlistManager).bind("ap_PlaylistManager.PLAYLIST_END",function(){b._disableActiveItem()}),this.categoryArr=[];var D;this.playlist_inner.children("ul[data-address]").each(function(){var t={};D=e(this),t.categoryName=D.attr("data-address"),t.id=D.attr("id"),b.categoryArr.push(t)}),this.categoryLength=this.categoryArr.length,this.getDeeplinkData=!1,this.useDeeplink=this.settings.useDeeplink,this.useDeeplink?(this.strict=e.address.strict()?"#/":"#",this.dlink,this._activePlaylist,this.currentProcessDeeplink,this.secondLevelExist=!1,this.secondLevel,this.firstLevel,this.deepLink,this._addressSet=!1,this._addressInited=!1,this.addressTimeout=500,this.addressTimeoutID,this._externalChangeEvent,this.startUrl=this.settings.startUrl,this.activeCategory,this.currentCategory,this.activeItem,this.transitionFinishInterval=100,this.transitionFinishIntervalID,e.address.internalChange(function(e){e.stopPropagation(),this.reCheckAddressTimeoutID&&clearTimeout(this.reCheckAddressTimeoutID),b.onChange(e)}),e.address.externalChange(function(t){if(t.stopPropagation(),this.reCheckAddressTimeoutID&&clearTimeout(this.reCheckAddressTimeoutID),b._externalChangeEvent=t,b._playlistTransitionOn)b.addressTimeoutID&&clearTimeout(b.addressTimeoutID),b.transitionFinishIntervalID&&clearInterval(b.transitionFinishIntervalID),b.transitionFinishIntervalID=setInterval(f,b.transitionFinishInterval);else{if(!b._addressInited)return"/"==t.value?(b._addressSet=!0,e.address.history(!1),b.isEmpty(b.startUrl)||(e.address.value(b.startUrl),e.address.history()||e.address.history(!0))):b.isEmpty(t.value)?(b._addressSet=!0,e.address.history(!1),b.isEmpty(b.startUrl)||(e.address.value(b.startUrl),e.address.history()||e.address.history(!0))):b.onChange(t),void 0;b.addressTimeoutID&&clearTimeout(b.addressTimeoutID),b.addressTimeoutID=setTimeout(g,b.addressTimeout)}})):(this._activePlaylist=this.settings.activePlaylist,this._getPlaylist()),this._doneResizing()}i.prototype={filterAllowedChars:function(e){var t,i,s="_-",a=e.length,l="",o=0;for(o;a>o;o++)t=e.charAt(o).toLowerCase(),"\\"==t&&(t="/"),i=this.getCharCode(t),(i>=this.getCharCode("a")&&i<=this.getCharCode("z")||i>=this.getCharCode("0")&&i<=this.getCharCode("9")||s.indexOf(t)>=0)&&(l+=t);return l},getCharCode:function(e){return e.charCodeAt(0)},initAddress:function(e){e.stopPropagation()},onChange:function(t){t.stopPropagation(),this.slideshowTimeoutID&&clearTimeout(this.slideshowTimeoutID),this._addressInited||(this._addressInited=!0),this.deepLink=t.value,"/"==this.deepLink.charAt(0)&&(this.deepLink=this.deepLink.substring(1)),"/"==this.deepLink.charAt(this.deepLink.length-1)&&(this.deepLink=this.deepLink.substring(0,this.deepLink.length-1));var i=this.findFirstLevel(this.deepLink);return this.findCategoryByName(i)?(this._addressSet=!1,void 0==this.currentCategory||this.currentCategory!=this.activeCategory?(this._getPlaylist(),void 0):this.secondLevel?this.findCounterByName(this.secondLevel)?(this._playlistManager.getCounter()!=this.activeItem?(this._addressSet=!0,-1!=this._playlistManager.getCounter()&&this._enableActiveItem(),this._playlistManager.setCounter(this.activeItem,!1)):(this._disableActiveItem(),this._findMedia()),void 0):(alert("404 page not found, check your deeplinks second level!"),e.address.history(!1),void 0):(this.destroyMedia(),void 0)):(alert("404 page not found, check your deeplinks first level!"),e.address.history(!1),!1)},findAddress:function(e){var t=e.split("/"),i=!1;2!=t.length&&(i=!0,l=!0);var s=t[0],a=!1,l=!1,o=0,r=this.categoryArr.length;for(o;r>o;o++)if(this.categoryArr[o].categoryName==s){this.activeCategory=o,a=!0;break}if(!a)return!1;if(i){media_name=t[1],o=0,t=this.categoryArr[this.activeCategory].mediaName;var r=t.length;for(o;r>o;o++)if(t[o]==media_name){this.activeItem=o,l=!0;break}}return a&&l?!0:!1},findCounterByName:function(e){var t=!1,i=0,s=this.categoryArr[this.activeCategory].mediaName,a=s.length;for(i;a>i;i++)if(s[i]==e){this.activeItem=i,t=!0;break}return t?!0:!1},findCounterByName2:function(e){var t=0,i=this.categoryArr[this.activeCategory].mediaName,s=i.length,a=-1;for(t;s>t;t++)if(i[t]==e){a=t;break}return a},findCategoryByName:function(e){var t=!1,i=0;for(i;i<this.categoryLength;i++)if(this.categoryArr[i].categoryName==e){this.activeCategory=i,this._activePlaylist=this.categoryArr[i].id,t=!0;break}return t?!0:!1},findAddress2:function(e){var t=this.categoryArr[this.activeCategory].mediaName;return this.categoryArr[this.activeCategory].categoryName+"/"+t[e]},findFirstLevel:function(e){var t,i;return e.indexOf("/")>0?(this.secondLevelExist=!0,t=e.substr(0,e.indexOf("/")),this.firstLevel=t,this.secondLevel=e.substr(e.indexOf("/")+1)):(this.firstLevel=e,this.secondLevelExist=!1,this.secondLevel=null,t=e),i=this.filterAllowedChars(t)},isEmpty:function(e){return 0==e.replace(/^\s+|\s+$/g,"").length},getDescription:function(e){if(!this._componentInited||this._playlistTransitionOn)return!1;if(this.useDeeplink)if(e){if("string"!=typeof e)return alert("Invalid value for getDescription Deeplink! String needed!"),!1;if(!(e.indexOf("/")>0))return alert("Invalid value for getDescription Deeplink! Two level deeplink needed!"),!1;if("/"==e.charAt(0)&&(e=e.substring(1)),"/"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=e.substring(e.lastIndexOf("/")+1),-1==this.findCounterByName2(e))return alert("Invalid value for getDescription Deeplink! Wrong deeplink!"),!1;e=this.findCounterByName2(e)}else{if(-1==this._playlistManager.getCounter())return alert("No active Item for description, counter = -1"),!1;e=this._playlistManager.getCounter()}else if(e){if("number"!=typeof e)return alert("Invalid value loadMedia no Deeplink! Number needed!"),!1;e>this._playlistLength-1?e=this._playlistLength-1:0>e&&(e=0)}else{if(-1==this._playlistManager.getCounter())return alert("No active Item for description, counter = -1"),!1;e=this._playlistManager.getCounter()}return this._descriptionDataArr[e]?this._descriptionDataArr[e]:null},playMedia:function(){return this._componentInited&&!this._playlistTransitionOn&&this._mediaType?("local"==this._mediaType?this.togglePlayBack():"vimeo"==this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.play():"youtube"==this._mediaType&&this._youtubePlayer&&this._youtubePlayer.play(),this.mediaPlaying=!0,void 0):!1},pauseMedia:function(){return this._componentInited&&!this._playlistTransitionOn&&this._mediaType?("local"==this._mediaType?this.togglePlayBack():"vimeo"==this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.pause():"youtube"==this._mediaType&&this._youtubePlayer&&this._youtubePlayer.pause(),this.mediaPlaying=!1,void 0):!1},nextMedia:function(){return!this._componentInited||this._playlistTransitionOn?!1:(this._enableActiveItem(),this._playlistManager.advanceHandler(1,!0),void 0)},previousMedia:function(){return!this._componentInited||this._playlistTransitionOn?!1:(this._enableActiveItem(),this._playlistManager.advanceHandler(-1,!0),void 0)},loadMedia:function(t){if(this._componentInited&&!this._playlistTransitionOn)if(this.useDeeplink){if("string"!=typeof t)return alert("Invalid value loadMedia Deeplink!"),!1;e.address.value(t)}else if("number"==typeof t)0>t?t=0:t>this._playlistLength-1&&(t=this._playlistLength-1),this._enableActiveItem(),this._playlistManager.processPlaylistRequest(t);else{if("string"!=typeof t)return alert("Invalid value loadMedia no Deeplink!"),!1;this._activePlaylist=t,this._getPlaylist()}},destroyMedia:function(){this._componentInited&&this._mediaType&&(this._cleanMedia(),this._mediaType=null,this._enableActiveItem(),this._playlistManager.reSetCounter(),this.mediaPreloader&&this.mediaPreloader.css("display","none"))},setVolume:function(e){return this._componentInited&&!this._playlistTransitionOn&&this._mediaType?(0>e?e=0:e>1&&(e=1),this.defaultVolume=e,this._setVolume(),void 0):!1},loadPreview:function(){var t=this;this.mediaPreview.css("display","block"),this.mediaPreloader&&this.mediaPreloader.css("display","block");var i=this.activeItem.attr("data-poster")+"?rand="+Math.floor(99999999*Math.random());this.previewPoster=e(new Image).css({position:"absolute",display:"block",opacity:0}).appendTo(this.mediaPreview).load(function(){t._resizeControls(),t.mediaPreloader&&t.mediaPreloader.css("display","none"),t.resizePreview(),t.previewPoster.animate({opacity:1},{duration:500,easing:"easeOutSine"}),t.bigPlay&&t.bigPlay.css("display","block")}).attr("src",i).error(function(){})},togglePlayBack:function(){if(-1==this._playlistManager.getCounter())return!1;var e=this;return this.videoInited||this.autoPlay?this.html5Support?this.videoUp2Js.paused?this.videoUp2Js.play():this.videoUp2Js.pause():"undefined"!=typeof this.getFlashMovie("flashPreview")&&"undefined"!=typeof this.getFlashMovie("flashPreview").pb_togglePlayback&&this.getFlashMovie("flashPreview").pb_togglePlayback():(this.previewPoster&&this.previewPoster.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){e.previewPoster.remove(),e.previewPoster=null}}),this.html5Support?this._initLocal():("undefined"!=typeof this.getFlashMovie("flashPreview")&&"undefined"!=typeof this.getFlashMovie("flashPreview").pb_play&&this.getFlashMovie("flashPreview").pb_play(this._mediaPath,this.aspectRatio),this._resizeControls())),this.videoInited=!0,!1},flashResizeControls:function(){this._resizeControls()},flashMainPreviewOff:function(){"undefined"!=typeof this.getFlashMovie("flashPreview")&&("undefined"!=typeof this.getFlashMovie("flashPreview").pb_play&&this.getFlashMovie("flashPreview").pb_play(this._mediaPath,this.aspectRatio),this.videoInited=!0)},flashVideoPause:function(){this.mediaPlaying=!1},flashVideoResume:function(){this.mediaPlaying=!0},flashVideoEnd:function(){this._mediaAdvance()},flashVideoStart:function(){this.videoInited=!0,this.showControls()},dataUpdateFlash:function(){},getFlashMovie:function(e){return-1!=navigator.appName.indexOf("Microsoft")?window[e]:document[e]},showControls:function(){this.videoInited&&(this.html5Support?this.playerControls.css("display","block"):"undefined"!=typeof this.getFlashMovie("flashPreview")&&"undefined"!=typeof this.getFlashMovie("flashPreview").pb_toggleControls&&this.getFlashMovie("flashPreview").pb_toggleControls(!0))},hideControls:function(){this.html5Support?this.playerControls.css("display","none"):"undefined"!=typeof this.getFlashMovie("flashPreview")&&"undefined"!=typeof this.getFlashMovie("flashPreview").pb_toggleControls&&this.getFlashMovie("flashPreview").pb_toggleControls(!1)},resizeComponent:function(){this.playerControls.css("left",1e4+"px"),this._getComponentSize("w"),this._getComponentSize("h"),"fullscreen"==this.componentSize?(this._body.css("overflow","hidden"),this.playlistHolder.css("display","none"),this.componentWrapper.find(".player_adv").css("display","none"),this.componentWrapper.find(".w_player_adv").css("display","none"),this.playerHolder.css({width:"",height:""}).removeClass("playerHolder").addClass("playerHolder_fs")):(this._body.css("overflow",this.bodyOverflowOrig),this.playerHolder.removeClass("playerHolder_fs").addClass("playerHolder"),this.playlistHolder.css("display","block"),this.componentWrapper.find(".player_adv").css("display","block"),this.componentWrapper.find(".w_player_adv").css("display","block")),this.previewPoster&&this.resizePreview(),this.html5Support&&this.videoInited&&this.resizeVideo(),this._resizeControls(),this.playerControls.css("left",this.playerControlsOrigL+"px")},resizePreview:function(){if(this.previewPoster){var e,t,i,s=this.previewPoster;0==this.aspectRatio||(1==this.aspectRatio?e=this.retrieveObjectRatio(!0,s):2==this.aspectRatio&&(e=this.retrieveObjectRatio(!1,s))),"normal"==this.componentSize?(t=(this._getPlayerSize("w")-e.width)/2,i=(this._getPlayerSize("h")-e.height)/2):(t=(this._getComponentSize("w")-e.width)/2,i=(this._getComponentSize("h")-e.height)/2),s.css({width:e.width+"px",height:e.height+"px",left:t+"px",top:i+"px"})}},resizeVideo:function(){if(this.video){var e,t,i;0==this.aspectRatio?e=this.getMediaSize():1==this.aspectRatio?e=this.retrieveObjectRatio(!0):2==this.aspectRatio&&(e=this.retrieveObjectRatio(!1)),"normal"==this.componentSize?(t=(this._getPlayerSize("w")-e.width)/2,i=(this._getPlayerSize("h")-e.height)/2):(t=(this._getComponentSize("w")-e.width)/2,i=(this._getComponentSize("h")-e.height)/2),this.video.css({width:e.width+"px",height:e.height+"px",left:t+"px",top:i+"px"})}},retrieveObjectRatio:function(e,t){var i=0,s=0;if("normal"==this.componentSize)var a=this._getPlayerSize("w"),l=this._getPlayerSize("h");else var a=this._getComponentSize("w"),l=this._getComponentSize("h");var o,r,n={};if(t)o=t.width(),r=t.height();
else{var t=this.getMediaSize();o=t.width,r=t.height}var h=(a-i)/(l-s),d=o/r;return h>d?e?(n.width=(l-s)/r*o,n.height=l-s):(n.height=(a-i)/o*r,n.width=a-i):d>h?e?(n.height=(a-i)/o*r,n.width=a-i):(n.width=(l-s)/r*o,n.height=l-s):(n.width=a-i,n.height=l-s),n},getMediaSize:function(){var e={};return this.videoUp2Js?(e.width=this.videoUp2Js.videoWidth,e.height=this.videoUp2Js.videoHeight):(e.width=this._getPlayerSize("w"),e.height=this._getPlayerSize("h")),e},resetData:function(){this.player_mediaTime.html("00:00 | 00:00"),this.progress_level.css("width","0px"),this.load_level.css("width","0px")},canPlayVorbis:function(){var e=document.createElement("video");return!(!e.canPlayType||!e.canPlayType('video/ogg; codecs="theora, vorbis"').replace(/no/,""))},canPlayMP4:function(){var e=document.createElement("video");return!(!e.canPlayType||!e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))},canPlayWebM:function(){var e=document.createElement("video");return!(!e.canPlayType||!e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""))},formatCurrentTime:function(e){return e=Math.round(e),minutes=Math.floor(e/60),minutes=minutes>=10?minutes:"0"+minutes,e=Math.floor(e%60),e=e>=10?e:"0"+e,minutes+":"+e},formatDuration:function(e){return e=Math.round(e),minutes=Math.floor(e/60),minutes=minutes>=10?minutes:"0"+minutes,e=Math.floor(e%60),e=e>=10?e:"0"+e," | "+minutes+":"+e},setFullscreenIcon:function(){document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen?this.player_fullscreen.children("img").attr("src",this.ic_fullscreen_enter):this.player_fullscreen.children("img").attr("src",this.ic_fullscreen_exit)},fullScreenStatus:function(){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen},toggleFullscreen:function(e){if(this.fullscreenCount=0,"normal"==this.componentSize?(this.componentSize="fullscreen",this.fullscreenPossible||this.componentWrapper.find(".player_fullscreen").find("img").attr("src",this.ic_fullscreen_exit)):(this.componentSize="normal",this.fullscreenPossible||this.componentWrapper.find(".player_fullscreen").find("img").attr("src",this.ic_fullscreen_enter)),this.fullscreenPossible||this.html5Support)if(document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen){if(document.documentElement.requestFullScreen)document.documentElement.requestFullScreen();else if(document.documentElement.mozRequestFullScreen)document.documentElement.mozRequestFullScreen();else if(document.documentElement.webkitRequestFullScreen)document.documentElement.webkitRequestFullScreen();else if(this.isIOS)try{}catch(t){}}else document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();this.fullscreenPossible?"normal"==this.componentSize&&e&&this.resizeComponent():this.resizeComponent()},checkFullScreenSupport:function(){var e=!1;return document.documentElement.requestFullScreen?e=!0:document.documentElement.mozRequestFullScreen?e=!0:document.documentElement.webkitRequestFullScreen&&(e=!0),e},_checkScroll:function(e){if("horizontal"==this._thumbOrientation){var t=0==e?0:this.margin_size;this._setPlaylistSize(t)}this.scrollPaneApi?(this.scrollPaneApi.reinitialise(),"vertical"==this._thumbOrientation?this.scrollPaneApi.scrollToY(0):this.scrollPaneApi.scrollToX(0)):(this.scrollPane=this.playlist_inner,this.scrollPane.jScrollPane({verticalDragMinHeight:60,verticalDragMaxHeight:60,horizontalDragMinWidth:60,horizontalDragMaxWidth:60}),this.scrollPaneApi=this.scrollPane.data("jsp"),this.scrollPane.bind("jsp-initialised",function(){}))},_setPlaylistSize:function(t){if(this._playlistArr[0]&&this._playlistLength&&this.lastPlaylist&&"horizontal"==this._thumbOrientation){var i=e(this._playlistArr[0]),s=parseInt(i.outerWidth(),10),a=this._playlistLength*s+(this._playlistLength-1)*parseInt(i.css("marginRight"),10),l=a+t;this.isIE&&this.ieBelow9&&(l+=3),this.lastPlaylist.css("width",l+"px")}},_getPlaylist:function(){this._playlistTransitionOn=!0;var t,i,s=this,a=0;if(this.lastPlaylist){for(this._cleanMedia(),a;a<this._playlistLength;a++)i=e(this._playlistArr[a]),i.css("cursor","pointer"),i.removeClass("playlistSelected").addClass("playlistNonSelected");this.lastPlaylist.css("display","none")}if(this.html5video_inited=!1,this._descriptionDataArr=[],this._playlistLength=0,this._processPlaylistCounter=-1,this.liProcessArr=[],this._playlistArr=[],"horizontal"==this._thumbOrientation){var l=e("<div/>").addClass("playlistNonSelected").hide().appendTo(this.componentPlaylist);this.margin_size=parseInt(l.css("marginRight"),10)+1,l.remove(),l=null}if(t=e(this.playlistHolder.find("ul[id="+this._activePlaylist+"]")).css("display","block"),0==t.length)return alert("Failed playlist selection! No playlist with id: "+this._activePlaylist),this._playlistTransitionOn=!1,!1;if(this.lastPlaylist=t,this.currentCategory=this.activeCategory,this.deeplinkData=[],this.useDeeplink&&(this.getDeeplinkData=!1,this.useDeeplink||this.activeCategory||(this.activeCategory=t.index()),!this.categoryArr[this.activeCategory].mediaName)){this.getDeeplinkData=!0;var o=[];this.categoryArr[this.activeCategory].mediaName=o}if(void 0!=t.attr("data-set")&&"true"==t.attr("data-set"))if(t.children("li[class=playlistNonSelected]").each(function(){s._playlistArr.push(e(this))}),this._playlistLength=this._playlistArr.length,this._playlistManager.setPlaylistItems(this._playlistLength),this._checkScroll(0),this._playlistTransitionOn=!1,this._checkPlaylistSize(),this.outputPlaylistData&&this._getPlaylistData(),this.useDeeplink){if(this.secondLevelExist){if(!this.findCounterByName(this.secondLevel))return alert("404 page not found, check your deeplinks second level!"),e.address.history(!1),void 0;this._addressSet=!0,this._playlistManager.setCounter(this.activeItem,!1)}}else{var r=this.settings.activeItem;r>this._playlistLength-1&&(r=this._playlistLength-1),r>-1&&this._playlistManager.setCounter(r,!1)}else this.liProcessArr=t.children("li"),this._processPlaylistLength=this.liProcessArr.length,this._checkPlaylistProcess()},_getPlaylistData:function(){this.dlink=this.baseURL+this.strict+this.firstLevel+"/";var e,t,i,s,a=0,l=this._playlistArr.length;for(a;l>a;a++)s=this._playlistArr[a],i=s.attr("data-type"),"local"==i?(this.mp4Support?e=s.attr("data-mp4"):this.vorbisSupport?e=s.attr("data-ogv"):this.webMsupport&&(e=s.attr("data-webm")),t=e.lastIndexOf("/")?e.substr(e.lastIndexOf("/")+1):e,this.deeplinkData.push({id:a+1,name:t,type:"local","video-id":e,deeplink:this.useDeeplink?this.dlink+s.attr("data-address"):"undefined"})):this.deeplinkData.push({id:a+1,name:s.attr("data-title")?s.attr("data-title"):"",type:s.attr("data-type"),"video-id":s.attr("data-path"),deeplink:this.useDeeplink?this.dlink+s.attr("data-address"):"undefined"});try{console.log(this.deeplinkData)}catch(o){}},_checkPlaylistProcess:function(){if(this._checkScroll(),this._processPlaylistCounter++,this._processPlaylistCounter<this._processPlaylistLength)this._videoProcessData=[],this._processPlaylistItem();else{var t=this;if(!this.flashCheckDone){if(this.flashCheckDone=!0,!this.html5Support)return document.getElementById("flashPreview").style.display="block",this.flashReadyIntervalID=setInterval(function(){"undefined"!=typeof t.getFlashMovie("flashPreview").setData&&(t.flashReadyIntervalID&&clearInterval(t.flashReadyIntervalID),t.getFlashMovie("flashPreview").setData(t.settings,t.seekBarSize,t.volumeSize,t.controlsMediaWidthDiff,t.isMobile,t.noVolume,t.initialAutoplay),t._checkPlaylistProcess()),0==t.componentWrapper.find(".bigPlay").length&&"undefined"!=typeof t.getFlashMovie("flashPreview").pb_removeBigPlay&&t.getFlashMovie("flashPreview").pb_removeBigPlay(),t.componentWrapper.find(".bigPlay").remove(),0==t.componentWrapper.find(".playerControls").length&&"undefined"!=typeof t.getFlashMovie("flashPreview").pb_removeControls&&t.getFlashMovie("flashPreview").pb_removeControls(),t.componentWrapper.find(".playerControls").remove()},this.flashReadyInterval),void 0;this.flashPreview.remove()}if(this.lastPlaylist.attr("data-set","true"),this._playlistTransitionOn=!1,this._playlistLength=this._playlistArr.length,this._playlistManager.setPlaylistItems(this._playlistLength),this.outputPlaylistData&&this._getPlaylistData(),"vertical"==this._thumbOrientation?e(this._playlistArr[this._playlistLength-1]).css("marginBottom","0px"):e(this._playlistArr[this._playlistLength-1]).css("marginRight","0px"),this._checkScroll(0),this._checkPlaylistSize(),this._componentInited||(this._componentInited=!0,this.settings.videoGallerySetupDone.call(this)),this.useDeeplink){if(this.secondLevelExist){if(!this.findCounterByName(this.secondLevel))return alert("404 page not found, check your deeplinks second level!"),e.address.history(!1),void 0;this._addressSet=!0,this._playlistManager.setCounter(this.activeItem,!1)}}else{var i=this.settings.activeItem;i>this._playlistLength-1&&(i=this._playlistLength-1),i>-1&&this._playlistManager.setCounter(i,!1)}}},_processPlaylistItem:function(){var t,i,s;if(t=e(this.liProcessArr[this._processPlaylistCounter]),i=t.attr("data-type"),s=t.attr("data-path"),this.currentThumb=null,this.currentInfo=null,"local"==i){if(this._playlistLength+=1,t.css({cursor:"pointer",display:"block"}),this._playlistArr.push(t),t.attr("data-id",this._playlistLength-1),t.data({mp4:t.attr("data-mp4"),ogv:t.attr("data-ogv"),webm:t.attr("data-webm"),poster:t.attr("data-poster")}),this._addPlaylistMouseEvents(t),this.mobileLayout&&t.removeClass("playlistNonSelected").addClass("playlistNonSelected_mob").css({cursor:"pointer",display:"block"}),t.find("div[class='playlistInfo']").length>0&&(t.find("div[class='playlistInfo']").dotdotdot(),this._descriptionDataArr[this._playlistLength-1]=t.find("div[class='playlistContent']").html()),this.useDeeplink&&this.getDeeplinkData){var a=this.filterAllowedChars(t.attr("data-address")),l=this.categoryArr[this.activeCategory].mediaName;l.push(a)}this._checkPlaylistProcess()}else this._contains(this.vimeoTypeArr,i)?(this.autoMakePlaylistThumb||(this.currentThumb=t.find("div[class='playlistThumb']"),this.currentInfo=t.find("div[class='playlistInfo']")),this._currentInsert=t,t.css("display","none"),this.currentObj={},this.useDeeplink&&(this.currentObj.deeplink=t.attr("data-address")),this._processVimeo(i,s)):this._contains(this.youtubeTypeArr,i)&&("youtube_playlist"==i&&s.search("/PL")>0,this.autoMakePlaylistThumb||(this.currentThumb=t.find("div[class='playlistThumb']"),this.currentInfo=t.find("div[class='playlistInfo']")),this.ytType=i,"youtube_channel_query"==i?(this.preserveInsert_item=t,this.preserveInsert=!0):this._currentInsert=t,t.css("display","none"),this.currentObj={},this.useDeeplink&&(this.currentObj.deeplink=t.attr("data-address")),this._processYoutube(i,s))},_contains:function(e,t){for(var i=e.length;i--;)if(e[i]===t)return!0;return!1},_processYoutube:function(e,t){var i=this;if("youtube_single"==e)return this._processYoutubeSingle(t),void 0;if("youtube_playlist"==e);else if("youtube_user_favourites"==e);else if("youtube_user_uploads"==e);else if("youtube_video_query"==e);else if("youtube_playlist_query"==e);else if("youtube_standard_feed"==e);else if("youtube_user_videos"==e);else if("youtube_user_playlists"==e);else if("youtube_channel_query"!=e)return alert("Invalid data-type in playlist!"),void 0;jQuery.ajax({url:t,dataType:"jsonp",success:function(e){i._processYotubeSuccess(e)},error:function(e){i._processYotubeError(e)}})},_processYoutubeSingle:function(e){var t=this;jQuery.ajax({url:e,dataType:"jsonp",success:function(e){t._processYotubeSingleSuccess(e)},error:function(e){t._processYotubeError(e)}})},_processYoutubePlaylistQuery:function(){var e=this,t=this._playlistQueryUrl[this._playlistQueryCounter];jQuery.ajax({url:t,dataType:"jsonp",success:function(t){e._processYoutubePlaylistQuerySuccess(t)},error:function(t){e._processYotubeError(t)}})},_processYoutubePlaylistQuerySuccess:function(e){if(e.error)return alert(e.error.message),void 0;var t,i,s=e.data.items.length,a=0;for(a;s>a;a++)i=e.data.items[a].video,i&&i.accessControl&&(t={},t.type="youtube",this.useDeeplink&&(t.deeplink=this.currentObj.deeplink+(a+1).toString()),t.id=i.id,t.title=i.title?i.title:"",t.description=i.description?i.description:"",i.thumbnail&&(t.thumbnail=i.thumbnail.hqDefault?i.thumbnail.hqDefault:i.thumbnail.sqDefault),this._videoProcessData.push(t));this._playlistQueryCounter++,this._playlistQueryCounter>this._playlistQueryLength-1?this._buildPlaylist():this._processYoutubePlaylistQuery()},_processYotubeSuccess:function(t){if(t.error)return alert(t.error.message),void 0;var i=this;if(i.liProcessArr[i._processPlaylistCounter].type,"youtube_channel_query"==this.ytType){var s,a,l,o,r=document.createElement("ul"),n=0,h=i._processPlaylistCounter,d=i.liProcessArr[i._processPlaylistCounter];return i.useDeeplink&&i.currentObj.deeplink&&(o=i.currentObj.deeplink),e(t).find("entry").each(function(){if(l=e(this).children("yt\\:channelId").text(),s="<li data-type='youtube_user_uploads' data-path='http://gdata.youtube.com/feeds/api/users/"+l+"/uploads?start-index=1&amp;max-results=50&amp;v=2&amp;format=5&amp;alt=jsonc' ></li>",o){var t=" data-address='"+o+"' ";match=s.match(/\>/),s=s.slice(0,match.index)+t+s.slice(match.index)}r.innerHTML=s,a=r.firstChild,i.liProcessArr.splice(h+1,0,e(a)),h++,n++}),i._processPlaylistLength+=n,i._processPlaylistCounter+=1,i._processPlaylistItem(),void 0}var p,d,u=t.data.items.length,n=0;if("youtube_playlist_query"==this.ytType||"youtube_user_playlists"==this.ytType){this._playlistQueryCounter=0,this._playlistQueryUrl=[],this._playlistQueryLength=u;var c;for(n;u>n;n++)c="http://gdata.youtube.com/feeds/api/playlists/"+t.data.items[n].id+"?&start-index=1&max-results=50&v=2&format=5&alt=jsonc",this._playlistQueryUrl.push(c);return this._processYoutubePlaylistQuery(),void 0}for(n;u>n;n++)d="youtube_user_uploads"==this.ytType||"youtube_video_query"==this.ytType||"youtube_standard_feed"==this.ytType?t.data.items[n]:t.data.items[n].video,d&&d.accessControl&&(p={},p.type="youtube",this.useDeeplink&&(p.deeplink=this.currentObj.deeplink+(n+1).toString()),p.id=d.id,p.title=d.title?d.title:"",p.description=d.description?d.description:"",d.thumbnail&&(p.thumbnail=d.thumbnail.hqDefault?d.thumbnail.hqDefault:d.thumbnail.sqDefault),this._videoProcessData.push(p));this._buildPlaylist()},_processYotubeSingleSuccess:function(e){var t,i={};t=e.data,t&&t.accessControl?(i.type="youtube",this.useDeeplink&&(i.deeplink=this.currentObj.deeplink),i.id=t.id,i.title=t.title?t.title:"",i.description=t.description?t.description:"",t.thumbnail&&(i.thumbnail=t.thumbnail.hqDefault?t.thumbnail.hqDefault:t.thumbnail.sqDefault),this._videoProcessData.push(i),this._buildPlaylist()):checkPlaylistProcess()},_processYotubeError:function(){},_processVimeo:function(e,t){var i=this;if("vimeo_single"==e)return this._processVimeoSingle(t),void 0;if("vimeo_user"==e);else if("vimeo_group"==e);else if("vimeo_channel"==e);else if("vimeo_album"!=e)return alert("Invalid data-type in playlist!"),void 0;jQuery.ajax({url:t,dataType:"jsonp",success:function(e){i._processVimeoSuccess(e)},error:function(e){i._processVimeoError(e)}})},_processVimeoSingle:function(e){var t=this;jQuery.ajax({url:e,dataType:"jsonp",success:function(e){t._processVimeoSingleSuccess(e)},error:function(e){t._processVimeoError(e)}})},_processVimeoSuccess:function(e){var t,i=e.length,s=0;for(s;i>s;s++)"anywhere"===e[s].embed_privacy&&(t={},t.type="vimeo",this.useDeeplink&&(t.deeplink=this.currentObj.deeplink+(s+1).toString()),t.id=e[s].id,e[s].title&&(t.title=e[s].title),e[s].description&&(t.description=e[s].description),e[s].thumbnail_medium&&(t.thumbnail=e[s].thumbnail_medium),this._videoProcessData.push(t));this._buildPlaylist()},_processVimeoSingleSuccess:function(e){if("anywhere"===e[0].embed_privacy){var t={};t.type="vimeo",this.useDeeplink&&(t.deeplink=this.currentObj.deeplink),t.id=e[0].id,e[0].title&&(t.title=e[0].title),e[0].description&&(t.description=e[0].description),e[0].thumbnail_medium&&(t.thumbnail=e[0].thumbnail_medium),this._videoProcessData.push(t),this._buildPlaylist()}else this._checkPlaylistProcess()},_processVimeoError:function(e){alert(e)},_addPlaylistMouseEvents:function(t){var i=this;t.bind("click",function(t){if(!i._componentInited||i._playlistTransitionOn)return!1;if(!t)var t=i._window.event;t.cancelBubble?t.cancelBubble=!0:t.stopPropagation&&t.stopPropagation();var s=e(t.currentTarget),a=s.attr("data-id");return a!=i._playlistManager.getCounter()?(i._enableActiveItem(),i._playlistManager.processPlaylistRequest(a),!1):void 0}),i.useRollovers&&t.bind("mouseover",function(t){if(!i._componentInited||i._playlistTransitionOn)return!1;if(!t)var t=i._window.event;t.cancelBubble?t.cancelBubble=!0:t.stopPropagation&&t.stopPropagation();var s=e(t.currentTarget);return s.attr("data-id"),s.hasClass("playlistNonSelected")?s.removeClass("playlistNonSelected").addClass("playlistSelected"):s.hasClass("playlistNonSelected_mob")&&s.removeClass("playlistNonSelected_mob").addClass("playlistSelected_mob"),!1}).bind("mouseout",function(t){if(!i._componentInited||i._playlistTransitionOn)return!1;if(!t)var t=i._window.event;t.cancelBubble?t.cancelBubble=!0:t.stopPropagation&&t.stopPropagation();var s=e(t.currentTarget),a=s.attr("data-id");return a!=i._playlistManager.getCounter()?(s.hasClass("playlistSelected")?s.removeClass("playlistSelected").addClass("playlistNonSelected"):s.hasClass("playlistSelected_mob")&&s.removeClass("playlistSelected_mob").addClass("playlistNonSelected_mob"),!1):void 0})},_buildPlaylist:function(){var t,i,s,a,l,o,r=this._videoProcessData.length,n=0;if(this.getDeeplinkData){this.dlink=this.baseURL+this.strict+this.firstLevel+"/";var h,d=this.categoryArr[this.activeCategory].mediaName}for(n;r>n;n++){l=this._videoProcessData[n],this._playlistLength+=1,s=this.mobileLayout?e("<li/>").addClass("playlistNonSelected_mob").css({cursor:"pointer",display:"block"}):e("<li/>").addClass("playlistNonSelected").css({cursor:"pointer",display:"block"}),this.preserveInsert_item?(this.preserveInsert_item.after(s),this.preserveInsert_item=s):(this._currentInsert.after(s),this._currentInsert=s),this._playlistArr[this._playlistLength-1]=s,s.attr({"data-id":this._playlistLength-1,"data-type":l.type,"data-path":l.id,"data-title":l.title?l.title:"","data-address":l.deeplink}),this._addPlaylistMouseEvents(s),this.autoMakePlaylistThumb?(i=e("<div/>").addClass("playlistThumb").appendTo(s),l.thumbnail&&(a=l.thumbnail,t=e(new Image).appendTo(i).attr("alt",l.title?l.title:"").addClass("thumb").load(function(){}).error(function(){}).attr("src",a))):this.currentThumb.length&&this.currentThumb.appendTo(s);var p=l.description?l.description:"";if(this.autoMakePlaylistInfo){var u=l.title?l.title:"";o=e('<p><span class="playlistTitle">'+u+'</span><br><span class="playlistContent">'+p+"</span></p>"),i=e("<div/>").html(o).addClass("playlistInfo").appendTo(s).dotdotdot()}else this.currentInfo.length&&this.currentInfo.appendTo(s).dotdotdot();this._descriptionDataArr[this._playlistLength-1]=p,this.useDeeplink&&this.getDeeplinkData&&(h=this.filterAllowedChars(l.deeplink),d.push(h))}this._checkPlaylistProcess()},_enableActiveItem:function(){if(-1!=this._playlistManager.getCounter()){var t=e(this._playlistArr[this._playlistManager.getCounter()]);t&&(t.css("cursor","pointer"),t.hasClass("playlistSelected")?t.removeClass("playlistSelected").addClass("playlistNonSelected"):t.hasClass("playlistSelected_mob")&&t.removeClass("playlistSelected_mob").addClass("playlistNonSelected_mob"))}},_disableActiveItem:function(){var t=e(this._playlistArr[this._playlistManager.getCounter()]);t&&(t.css("cursor","default"),t.hasClass("playlistNonSelected")?t.removeClass("playlistNonSelected").addClass("playlistSelected"):t.hasClass("playlistNonSelected_mob")&&t.removeClass("playlistNonSelected_mob").addClass("playlistSelected_mob"))},_mediaAdvance:function(){this._enableActiveItem(),this._playlistManager.advanceHandler(1,!0)},_findMedia:function(){if(this._cleanMedia(),this.activeItem=this._playlistArr[this._playlistManager.getCounter()],this._mediaPath=this.activeItem.attr("data-path"),this._mediaType=this.activeItem.attr("data-type"),"local"==this._mediaType)if(this._mediaPath=this.activeItem.attr("data-mp4"),this.autoPlay)this.html5Support?(this._resizeControls(),this._initLocal()):("undefined"!=typeof this.getFlashMovie("flashPreview")&&"undefined"!=typeof this.getFlashMovie("flashPreview").pb_play&&this.getFlashMovie("flashPreview").pb_play(this._mediaPath,this.aspectRatio),this._resizeControls(),this.videoInited=!0);else if(this.html5Support)this.loadPreview();else{var e=this.activeItem.attr("data-poster");"undefined"!=typeof this.getFlashMovie("flashPreview")&&"undefined"!=typeof this.getFlashMovie("flashPreview").pb_loadPreview&&this.getFlashMovie("flashPreview").pb_loadPreview(e)}else"vimeo"==this._mediaType?this._initVimeo():"youtube"==this._mediaType?this._initYoutube():alert("Wrong data-type in playlist!")},_cleanMedia:function(){if("local"==this._mediaType){if(this.hideControls(),this.html5Support){if(this.videoUp2Js){this.videoUp2Js.pause();try{this.videoUp2Js.currentTime=0}catch(e){}this.videoUp2Js.src=""}this.video&&this.video.unbind("ended loadedmetadata waiting playing play pause"),this.mediaHolder.css("display","none"),!this.isMobile&this.html5Support&&(this.mediaHolder.html(""),this.html5video_inited=!1)}else"undefined"!=typeof this.getFlashMovie("flashPreview")&&"undefined"!=typeof this.getFlashMovie("flashPreview").pb_dispose&&this.getFlashMovie("flashPreview").pb_dispose();this.bigPlay&&this.bigPlay.css("display","none"),this.mediaPreloader&&this.mediaPreloader.css("display","none"),this.previewPoster&&(this.previewPoster.remove(),this.previewPoster=null),this.resetData(),this.mediaPlaying=!1,this.videoInited=!1}else"vimeo"==this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.clean():"youtube"==this._mediaType&&(this._youtubePlayer&&this._youtubePlayer.stop(),this._hideYT())},_setVolume:function(){"local"==this._mediaType?(this.volume_level.width(this.defaultVolume*this.volumeSize),this.html5Support?this.videoUp2Js.volume=this.defaultVolume:"undefined"!=typeof this.getFlashMovie("flashPreview")&&"undefined"!=typeof this.getFlashMovie("flashPreview").pb_setVolume&&this.getFlashMovie("flashPreview").pb_setVolume(this.defaultVolume)):"vimeo"==this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.setVolume(this.defaultVolume):"youtube"==this._mediaType&&this._youtubePlayer&&this._youtubePlayer.setVolume(this.defaultVolume)},_initLocal:function(){var e=this;if(this.mp4Support?this._mediaPath=this.activeItem.attr("data-mp4"):this.vorbisSupport?this._mediaPath=this.activeItem.attr("data-ogv"):this.webmSupport&&(this._mediaPath=this.activeItem.attr("data-webm")),this.html5video_inited)this.mediaHolder.css("display","block"),this.videoUp2Js.src=this._mediaPath,this.videoUp2Js.load();else{var t="";this.mp4Support?this.isAndroid?(t+='<video class="video_cont" width="100%" height="100%" >',t+='<source src="'+this._mediaPath+'" />',t+="</video>"):(t+='<video class="video_cont" width="100%" height="100%" >',t+='<source src="'+this._mediaPath+'"  type="video/mp4" />',t+="</video>"):this.vorbisSupport?this.isAndroid?(t+='<video class="video_cont" width="100%" height="100%" >',t+='<source src="'+this._mediaPath+'" />',t+="</video>"):(t+='<video class="video_cont" width="100%" height="100%" >',t+='<source src="'+this._mediaPath+'"  type="video/ogg" />',t+="</video>"):this.webMsupport&&(this.isAndroid?(t+='<video class="video_cont" width="100%" height="100%" >',t+='<source src="'+this._mediaPath+'" />',t+="</video>"):(t+='<video class="video_cont" width="100%" height="100%" >',t+='<source src="'+this._mediaPath+'"  type="video/webm" />',t+="</video>")),this.mediaHolder.css("display","block").html(t),this.video=this.mediaHolder.find(".video_cont"),this.videoUp2Js=this.video[0]}this.videoUp2Js.volume=this.defaultVolume,this.video.css("position","absolute").bind("ended",function(){if(e._autoAdvanceToNextVideo)e._mediaAdvance();else{try{e.videoUp2Js.currentTime=0}catch(t){}e.videoUp2Js.paused&&e.videoUp2Js.play(),e.autoPlay||e.videoUp2Js.pause()}}).bind("loadedmetadata",function(){e.resizeVideo(),e.dataIntervalID&&clearInterval(e.dataIntervalID),e.dataIntervalID=setInterval(function(){if(isNaN(e.videoUp2Js.currentTime)||isNaN(e.videoUp2Js.duration)||e.player_mediaTime.html(e.formatCurrentTime(e.videoUp2Js.currentTime)+e.formatDuration(e.videoUp2Js.duration)),!e.seekBarDown){e.progress_level.css("width",e.videoUp2Js.currentTime/e.videoUp2Js.duration*e.seekBarSize+"px");try{var t=Math.floor(e.videoUp2Js.buffered.end(0))}catch(i){}var s=t/Math.floor(e.videoUp2Js.duration);isNaN(s)?4==e.videoUp2Js.readyState:e.load_level.css("width",s*e.seekBarSize+"px")}},e.dataInterval),e.videoUp2Js.play(),e.videoInited=!0,e.isMobile&&e.initialAutoplay&&(e.autoPlay=!0),e.showControls(),e.isIOS&&e._resizeControls()}).bind("waiting",function(){e.mediaPreloader&&e.mediaPreloader.css("display","block")}).bind("playing",function(){e.mediaPreloader&&e.mediaPreloader.css("display","none")}).bind("play",function(){e.componentWrapper.find(".player_playControl").find("img").attr("src",e.ic_pause),e.bigPlay&&e.bigPlay.css("display","none"),e.mediaPlaying=!0}).bind("pause",function(){e.componentWrapper.find(".player_playControl").find("img").attr("src",e.ic_play),e.bigPlay&&e.bigPlay.css("display","block"),e.mediaPlaying=!1}),this.isIOS&&!this.html5video_inited?(this.videoUp2Js.src=this._mediaPath,this.videoUp2Js.load()):this.isAndroid&&!this.html5video_inited&&(this.videoUp2Js.play(),this.bigPlay&&this.bigPlay.css("display","none"),this.previewPoster&&this.previewPoster.stop().animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){e.previewPoster.remove(),e.previewPoster=null}}),this.videoInited=!0,this.showControls()),this.html5video_inited=!0},_initVimeo:function(){var t=this;if(this._vimeoInited)this._vimeoPlayer.initVideo(this._mediaPath);else{var i={autoPlay:this.vim_autoPlay,defaultVolume:this.defaultVolume,mediaPath:this._mediaPath,vimeoHolder:this.vimeoHolder,isMobile:this.isMobile,initialAutoplay:this.initialAutoplay};this._vimeoPlayer=e.vimeoPlayer(i),e(this._vimeoPlayer).bind("ap_VimeoPlayer.VIMEO_READY",function(){}),e(this._vimeoPlayer).bind("ap_VimeoPlayer.START_PLAY",function(){t.mediaPlaying=!0}),e(this._vimeoPlayer).bind("ap_VimeoPlayer.VIMEO_PLAY",function(){t.mediaPlaying=!0}),e(this._vimeoPlayer).bind("ap_VimeoPlayer.VIMEO_PAUSE",function(){t.mediaPlaying=!1}),e(this._vimeoPlayer).bind("ap_VimeoPlayer.END_PLAY",function(){t._autoAdvanceToNextVideo?t._mediaAdvance():t.isMobile?t.initialAutoplay&&t._vimeoPlayer.play():t.vim_autoPlay&&t._vimeoPlayer.play()}),this._vimeoInited=!0}},_initYoutube:function(){var t=this;if(t._showYT(),this._youtubeInited)this._youtubePlayer.initVideo(this._mediaPath);else{var i={autoPlay:this.yt_autoPlay,defaultVolume:this.defaultVolume,mediaPath:this._mediaPath,youtubeHolder:this.youtubeHolder,youtubeChromeless:this._youtubeChromeless,isMobile:this.isMobile,initialAutoplay:this.initialAutoplay,quality:this.useYoutubeHighestQuality};this._youtubePlayer=e.youtubePlayer(i),e(this._youtubePlayer).bind("ap_YoutubePlayer.FORCE_MAIN_STOP",function(){t._hideYT()}),e(this._youtubePlayer).bind("ap_YoutubePlayer.YT_READY",function(){}),e(this._youtubePlayer).bind("ap_YoutubePlayer.START_PLAY",function(){t.mediaPlaying=!0}),e(this._youtubePlayer).bind("ap_YoutubePlayer.STATE_PLAYING",function(){t.mediaPlaying=!0}),e(this._youtubePlayer).bind("ap_YoutubePlayer.STATE_PAUSED",function(){t.mediaPlaying=!1}),e(this._youtubePlayer).bind("ap_YoutubePlayer.END_PLAY",function(){t._autoAdvanceToNextVideo?t._mediaAdvance():t.isMobile?t.initialAutoplay&&t._youtubePlayer.play():t.yt_autoPlay&&t._youtubePlayer.play()}),this._youtubeInited=!0}},_showYT:function(){this.isIE?this._setYTSizeIE():this.youtubeHolder.css("left","0px")},_setYTSizeIE:function(){if(this.isIE){var e=this._getPlayerSize("w"),t=this._getPlayerSize("h");this.youtubeHolder.css({width:e+2+"px",height:t+2+"px",left:"-1px",top:"-1px"})}},_hideYT:function(){this.youtubeHolder.css("left",-1e4+"px")},_getComponentSize:function(e){return"w"==e?"normal"==this.componentSize?this.componentWrapper.width():this.getDocumentWidth():"normal"==this.componentSize?this.componentWrapper.height():this.getDocumentHeight()},_getPlayerSize:function(e){return"w"==e?this.playerHolder.width():this.playerHolder.height()},getDocumentWidth:function(){return Math.max(e(window).width(),document.documentElement.clientWidth)},getDocumentHeight:function(){return Math.max(e(window).height(),document.documentElement.clientHeight)},_preventSelect:function(t){e(t).each(function(){e(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_doneResizing:function(){if("fullscreen"==this.componentSize&&this.resizeComponent(),this._componentWidth=this._getComponentSize("w"),this._componentHeight=this._getComponentSize("h"),this.fullSize)"right"==this.playlistPosition?this._componentWidth<=this.widthSizeLimit:"bottom"==this.playlistPosition;else if("right"==this.playlistPosition)if(this.componentInnerWrapperOrigW>=this._componentWidth||this.componentInnerWrapperOrigH>=this._componentHeight){var e=this.retrieveObjectRatio2(!0,this.playerHolder.width(),this.playerHolder.height());this._componentWidth<=this.widthSizeLimit||this._componentHeight<=this.heightSizeLimit,this.componentInnerWrapperCurrW=e.width+this.playlistHolder.width(),this.componentInnerWrapperCurrH=e.height,this.playerHolderCurrW=e.width,this.playerHolderCurrH=e.height}else this.componentInnerWrapperCurrW=this.componentInnerWrapperOrigW,this.componentInnerWrapperCurrH=this.componentInnerWrapperOrigH,this.playerHolderCurrW=this.playerHolderOrigW,this.playerHolderCurrH=this.playerHolderOrigH;else if("bottom"==this.playlistPosition)if(this.componentInnerWrapperOrigW>=this._componentWidth||this.componentInnerWrapperOrigH>=this._componentHeight){var e=this.retrieveObjectRatio2(!0,this.playerHolder.width(),this.playerHolder.height());this.componentInnerWrapperCurrW=e.width,this.componentInnerWrapperCurrH=e.height+this.playlistHolder.height(),this.playerHolderCurrW=e.width,this.playerHolderCurrH=e.height}else this.componentInnerWrapperCurrW=this.componentInnerWrapperOrigW,this.componentInnerWrapperCurrH=this.componentInnerWrapperOrigH,this.playerHolderCurrW=this.componentInnerWrapperOrigW,this.playerHolderCurrH=this.playerHolderOrigH;this._mediaType&&("local"==this._mediaType?(this.previewPoster&&this.resizePreview(),this.html5Support&&this.videoInited&&this.resizeComponent(),this._resizeControls()):"youtube"==this._mediaType&&this.isIE&&this._setYTSizeIE()),this._checkPlaylistSize()},_resizeControls:function(){if(this.fullSize){if("right"==this.playlistPosition)if("normal"==this.componentSize)var e=this._getComponentSize("w")-this.playlistHolder.width();else var e=this._getComponentSize("w");else if("bottom"==this.playlistPosition)var e=this._getComponentSize("w")}else if("normal"==this.componentSize)var e=this._getComponentSize("w")<this.playerHolderCurrW?this._getComponentSize("w"):this.playerHolderCurrW;else var e=this._getComponentSize("w");if(this.playerControls.width(e-this.controlsMediaWidthDiff),this.controlsSeekbarDiff=this._getControlsSeekbarDiff(),this.seekBarSize=this.playerControls.width()-this.controlsSeekbarDiff,this.progress_bg.width(this.seekBarSize),this.player_progress.width(this.seekBarSize+20),this.html5Support);else{var t=e-this.controlsMediaWidthDiff,i=t-this.controlsSeekbarDiff;"undefined"!=typeof this.getFlashMovie("flashPreview")&&"undefined"!=typeof this.getFlashMovie("flashPreview").pb_resizeControls&&this.getFlashMovie("flashPreview").pb_resizeControls(t,i)
}400>=e?(this.player_mediaTime.css("display","none"),this.noTime=!0,this.controlsSeekbarDiff=this._getControlsSeekbarDiff(),this.seekBarSize=this.playerControls.width()-this.controlsSeekbarDiff,this.progress_bg.width(this.seekBarSize),this.player_progress.width(this.seekBarSize+20),this.html5Support||"undefined"!=typeof this.getFlashMovie("flashPreview")&&"undefined"!=typeof this.getFlashMovie("flashPreview").pb_hideTime&&this.getFlashMovie("flashPreview").pb_hideTime(this.seekBarSize,this.controlsSeekbarDiff)):(this.player_mediaTime.css("display","block"),this.noTime=!1,this.controlsSeekbarDiff=this._getControlsSeekbarDiff(),this.seekBarSize=this.playerControls.width()-this.controlsSeekbarDiff,this.progress_bg.width(this.seekBarSize),this.player_progress.width(this.seekBarSize+20),this.html5Support||"undefined"!=typeof this.getFlashMovie("flashPreview")&&"undefined"!=typeof this.getFlashMovie("flashPreview").pb_showTime&&this.getFlashMovie("flashPreview").pb_showTime(this.seekBarSize,this.controlsSeekbarDiff))},_getControlsSeekbarDiff:function(){var e;if(this.noFS)var t=280-this.no_fs_move,i=195-this.no_fs_move,s=180-this.no_fs_move,a=95-this.no_fs_move;else var t=280,i=195,s=180,a=95;return this.noVolume&&!this.noTime?e=s:!this.noVolume&&this.noTime?e=i:this.noVolume&&this.noTime?e=a:this.noVolume||this.noTime||(e=t),e},_checkPlaylistSize:function(){if(this.fullSize){if("right"==this.playlistPosition)if(this._componentWidth<=this.widthSizeLimit){var e,t=0,i=this._playlistArr.length;for(t;i>t;t++)e=this._playlistArr[t],e&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected_mob");this._playlistArr[this._playlistManager.getCounter()]&&this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected_mob")}else{var e,t=0,i=this._playlistArr.length;for(t;i>t;t++)e=this._playlistArr[t],e&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected");this._playlistArr[this._playlistManager.getCounter()]&&this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected")}else if("bottom"==this.playlistPosition)if(this._componentWidth<=this.widthSizeLimit){var e,t=0,i=this._playlistArr.length;for(t;i>t;t++)e=this._playlistArr[t],e&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected_mob");this._playlistArr[this._playlistManager.getCounter()]&&this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected_mob")}else{var e,t=0,i=this._playlistArr.length;for(t;i>t;t++)e=this._playlistArr[t],e&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected");this._playlistArr[this._playlistManager.getCounter()]&&this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected")}}else if(this._componentWidth<=this.widthSizeLimit||this._componentHeight<=this.heightSizeLimit){var e,t=0,i=this._playlistArr.length;for(t;i>t;t++)e=this._playlistArr[t],e&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected_mob");this._playlistArr[this._playlistManager.getCounter()]&&this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected_mob")}else{var e,t=0,i=this._playlistArr.length;for(t;i>t;t++)e=this._playlistArr[t],e&&e.removeClass("playlistSelected_mob").removeClass("playlistNonSelected_mob").removeClass("playlistSelected").removeClass("playlistNonSelected").addClass("playlistNonSelected");this._playlistArr[this._playlistManager.getCounter()]&&this._playlistArr[this._playlistManager.getCounter()].addClass("playlistSelected")}this._checkScroll(0)},retrieveObjectRatio2:function(e,t,i){if(this._componentWidth<=this.widthSizeLimit||this._componentHeight<=this.heightSizeLimit)var s="vertical"==this._thumbOrientation?112:0;else var s="vertical"==this._thumbOrientation?this.playlistHolderOrigW:0;var a,l,o="horizontal"==this._thumbOrientation?this.playlistHolder.height():0,r=this._getComponentSize("w"),n=this._getComponentSize("h"),h={};a=t,l=i;var d=(r-s)/(n-o),p=this.playerRatio;return d>p?e?(h.width=(n-o)/l*a,h.height=n-o):(h.height=(r-s)/a*l,h.width=r-s):p>d?e?(h.height=(r-s)/a*l,h.width=r-s):(h.width=(n-o)/l*a,h.height=n-o):(h.width=r-s,h.height=n-o),h}},e.fn.videoGallery=function(s){return this.each(function(){e.fn.videoGallery.playMedia=function(){a.playMedia()},e.fn.videoGallery.pauseMedia=function(){a.pauseMedia()},e.fn.videoGallery.nextMedia=function(){a.nextMedia()},e.fn.videoGallery.previousMedia=function(){a.previousMedia()},e.fn.videoGallery.destroyMedia=function(){a.destroyMedia()},e.fn.videoGallery.setVolume=function(e){a.setVolume(e)},e.fn.videoGallery.loadMedia=function(e){a.loadMedia(e)},e.fn.videoGallery.getDescription=function(e){return a.getDescription(e)},e.fn.videoGallery.flashResizeControls=function(){a.flashResizeControls()},e.fn.videoGallery.flashMainPreviewOff=function(){a.flashMainPreviewOff()},e.fn.videoGallery.flashVideoPause=function(){a.flashVideoPause()},e.fn.videoGallery.flashVideoResume=function(){a.flashVideoResume()},e.fn.videoGallery.flashVideoEnd=function(){a.flashVideoEnd()},e.fn.videoGallery.flashVideoStart=function(){a.flashVideoStart()},e.fn.videoGallery.dataUpdateFlash=function(){a.dataUpdateFlash(bl,bt,t,d)};var a=new i(e(this),s);e(this).data("videoGallery",a)})},e.fn.videoGallery.defaults={defaultVolume:.5,autoPlay:!1,loopingOn:!0,randomPlay:!1,autoAdvanceToNextVideo:!0,autoMakePlaylistThumb:!0,autoMakePlaylistInfo:!0,outputPlaylistData:!1,videoGallerySetupDone:function(){}},e.fn.videoGallery.settings={}}(jQuery);